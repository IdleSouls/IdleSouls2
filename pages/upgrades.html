<div id="upgradesContainer">
  <!-- Gli upgrade saranno generati dinamicamente -->
</div>

<script>
const container = document.getElementById('upgradesContainer');
container.innerHTML = ''; // Pulisce il container

window.upgradeDefinitions.forEach(upg => {
    // Crea il contenitore dell'upgrade
    const item = document.createElement('div');
    item.classList.add('upgradeItem');
    item.style.backgroundColor = '#0d1b2a';
    item.style.border = '2px solid #ffd700';
    item.style.borderRadius = '5px';
    item.style.padding = '10px';
    item.style.display = 'flex';
    item.style.justifyContent = 'space-between';
    item.style.alignItems = 'center';
    item.style.marginBottom = '10px';

    // Testo upgrade
    const text = document.createElement('div');
    text.textContent = `${upg.name}`;
    text.style.color = '#ffd700';
    text.style.fontSize = '1.2em';

    // Pulsante compra + costo
    const button = document.createElement('button');
    button.classList.add('upgradeButton');
    button.textContent = `Compra - Costo: ${Math.floor(upg.baseCost * Math.pow(upg.costMultiplier, upg.level))} SF`;
    button.style.backgroundColor = '#1a73e8';
    button.style.color = '#ffd700';
    button.style.fontWeight = 'bold';
    button.style.border = '2px solid #ffd700';
    button.style.borderRadius = '5px';
    button.style.padding = '6px 12px';
    button.addEventListener('click', () => {
        window.applyUpgrade(upg.id);
        // Aggiorna il costo dopo l'acquisto
        button.textContent = upg.level >= upg.limit ? 'MAX' : `Compra - Costo: ${Math.floor(upg.baseCost * Math.pow(upg.costMultiplier, upg.level))} SF`;
    });

    item.appendChild(text);
    item.appendChild(button);
    container.appendChild(item);
});
</script>
